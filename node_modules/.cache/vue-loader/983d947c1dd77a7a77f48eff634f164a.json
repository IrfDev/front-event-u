{"remainingRequest":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/src/views/NewPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/src/views/NewPost.vue","mtime":1571194169000},{"path":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irff/Desktop/paralanube/OneDrive/kode-mia/ultimo-reto-vuw/vue-4ta-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport FormNewPost from '../components/FormNewPost'\n\nimport api from '../lib/api'\n\nexport default {\n  name: 'NewPost',\n  components: {\n    FormNewPost\n  },\n  data () {\n    return {\n      author: '',\n      loading: false\n    }\n  },\n  methods: {\n    async getUser() {\n      const payload = await api.validateSession()\n\n      sessionStorage.setItem('token', payload.token)\n\n      this.author = payload.name\n    },\n    async savePost(post) {\n      this.loading = true;\n\n      await api.createPost({\n        ...post,\n        author: this.author\n      })\n\n      this.loading = false;\n\n      this.$router.push('/')\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    const token = sessionStorage.getItem('token')\n\n    if (token) next()\n    else next('/login')\n  },\n  mounted() {\n    this.getUser()\n  },\n}\n",{"version":3,"sources":["NewPost.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewPost.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"new-post\">\n    <div class=\"container\">\n      <form-new-post\n        :loading=\"loading\"\n        @submit=\"savePost\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FormNewPost from '../components/FormNewPost'\n\nimport api from '../lib/api'\n\nexport default {\n  name: 'NewPost',\n  components: {\n    FormNewPost\n  },\n  data () {\n    return {\n      author: '',\n      loading: false\n    }\n  },\n  methods: {\n    async getUser() {\n      const payload = await api.validateSession()\n\n      sessionStorage.setItem('token', payload.token)\n\n      this.author = payload.name\n    },\n    async savePost(post) {\n      this.loading = true;\n\n      await api.createPost({\n        ...post,\n        author: this.author\n      })\n\n      this.loading = false;\n\n      this.$router.push('/')\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    const token = sessionStorage.getItem('token')\n\n    if (token) next()\n    else next('/login')\n  },\n  mounted() {\n    this.getUser()\n  },\n}\n</script>\n\n<style scoped>\n.container {\n  padding: 2rem 0;\n}\n</style>\n"]}]}